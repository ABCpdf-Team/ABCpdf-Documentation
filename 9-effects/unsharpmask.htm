<html>
<head>
<title>Unsharp Mask Effect</title>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<link rel="stylesheet" href="../mystyles.css">
<link rel="stylesheet" href="../prism.css">
<script src="../prism.js"></script></head>

<body bgcolor="#FFFFFF">
<table border="0" cellpadding="0" cellspacing="4">
  <tr> 
    <td valign="top"><img src="../images/goo.gif" width="58" height="60"></td>
    <td width="14">&nbsp;</td>
    <td> 
      <table border="0" width="100%" cellpadding="0" cellspacing="0">
        <tr> 
          <td class="pageheader"> Unsharp Mask Effect</td>
          <td width="60">&nbsp;</td>
          <td>&nbsp;</td>
        </tr>
        <tr> 
          <td background="../images/steel-line-3.gif" height="11"></td>
          <td background="../images/steel-line-3.gif" height="11" width="60"></td>
          <td height="11"><img src="../images/steel-blob-11.gif" width="11" height="11"></td>
        </tr>
        <tr> 
          <td> 
            <p>The Unsharp Mask filter is a simple method of sharpening a photo. 
              Areas of complexity and fine detail within the image become crisp 
              and better defined. An Unsharp Mask takes longer to perform than 
              a simple Sharpen but gives more control and produces a more natural 
            appearance.</p>
          <p>&nbsp;</p>          </td>
          <td width="60">&nbsp;</td>
          <td>&nbsp;</td>
        </tr>
      </table>    </td>
  </tr>
  <tr> 
    <td valign="top" class="sectheader"><img src="../images/steel-pin.gif" width="64" height="10"><br>
    Settings</td>
    <td width="14">&nbsp;</td>
    <td valign="top"> 
      <table border="0" width="100%" cellpadding="0" cellspacing="0">
        <tr> 
          <td><table class="wsgtable" cellpadding="3" cellspacing="0" border="5" bordercolor="#FFFFFF">
              <tr>
                <td><b>Name</b></td>
                <td><b>Default</b></td>
                <td><b>Description</b></td>
              </tr>
              <tr valign="top">
                <td>Radius</td>
                <td>1.5 pixels</td>
                <td><p>Determines the scale of fine detail that will be enhanced. 
                  Low values enhance only very fine detail while high values enhance 
                  larger levels of detail.</p>                </td>
              </tr>
              <tr valign="top">
                <td>Amount</td>
                <td>60 %</td>
                <td>The level of enhancement to be applied to the fine detail. 
                Values greater than 100% will super-enhance any complex areas.</td>
              </tr>
              <tr valign="top">
                <td>Threshold</td>
                <td>0</td>
                <td>If there is little fine detail then you can choose not to 
                  enhance it by setting a threshold. Any detail less than the 
                threshold will not be enhanced.</td>
              </tr>
            </table>
            <p>&nbsp;</p>
            </td>
          <td width="60">&nbsp;</td>
          <td width="11">&nbsp;</td>
        </tr>
      </table>    </td>
  </tr>
  <tr> 
    <td valign="top" class="sectheader"><img src="../images/steel-pin.gif" width="64" height="10"><br>
    Workings</td>
    <td width="14">&nbsp;</td>
    <td valign="top"> 
      <table border="0" width="100%" cellpadding="0" cellspacing="0">
        <tr> 
          <td> 
            <p>An Unsharp Mask is essentially a Blur in reverse. A Gaussian Blur 
              is applied to a copy of the original image to produce an image with 
              no fine detail. The blurred image is subtracted from the original 
              to extract the fine detail. This fine detail is then added to the 
            original image to highlight complex areas. </p>
            <p>The radius parameter determines the radius of the Gaussian Blur 
              in pixels and lets you choose the level of scale of detail that 
              should be enhanced. The difference between color levels on the blurred 
              and original image is determined at each point on the image. If 
              the difference is greater than the Threshold parameter then the 
              Amount percentage of the difference is added back to the original 
              image.</p>
          <p>&nbsp;</p>          </td>
          <td width="60">&nbsp;</td>
          <td width="11">&nbsp;</td>
        </tr>
      </table>    </td>
  </tr>
  <tr> 
    <td valign="top" class="sectheader"><img src="../images/steel-pin.gif" width="64" height="10"><br>
    Example</td>
    <td width="14">&nbsp;</td>
    <td valign="top"> 
      <table border="0" width="100%" cellpadding="0" cellspacing="0">
        <tr> 
          <td> 
            <p>The following example shows the basic effect of Unsharp Mask on 
              a blurred photo and how the parameters can change the effect produced. 
              Note that because JPEG compression has been used to compress these 
            images some of the fine detail applied by the effect is not visible.</p>
            <p><span class=language>[C#]</span><br>
              <pre><code class="language-csharp">void function() {
&nbsp;&nbsp;using (Doc doc = new Doc()) {
&nbsp;&nbsp;&nbsp;&nbsp;AddImagePage(doc, img5); // original image
&nbsp;&nbsp;&nbsp;&nbsp;doc.Rendering.Save("EffectUnsharpMask1a.jpg");
&nbsp;&nbsp;&nbsp;&nbsp;using (ImageLayer layer = AddImagePage(doc, img5)) {
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;using (EffectOperation effect = new EffectOperation("Unsharp Mask")) {
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;effect.Apply(layer.PixMap);
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}
&nbsp;&nbsp;&nbsp;&nbsp;}
&nbsp;&nbsp;&nbsp;&nbsp;doc.Rendering.Save("EffectUnsharpMask1b.jpg");
&nbsp;&nbsp;&nbsp;&nbsp;AddImagePage(doc, img3); // original image
&nbsp;&nbsp;&nbsp;&nbsp;doc.Rendering.Save("EffectUnsharpMask2a.jpg");
&nbsp;&nbsp;&nbsp;&nbsp;using (ImageLayer layer = AddImagePage(doc, img3)) {
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;using (EffectOperation effect = new EffectOperation("Unsharp Mask")) {
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;effect.Apply(layer.PixMap);
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}
&nbsp;&nbsp;&nbsp;&nbsp;}
&nbsp;&nbsp;&nbsp;&nbsp;doc.Rendering.Save("EffectUnsharpMask2b.jpg");
&nbsp;&nbsp;&nbsp;&nbsp;AddImagePage(doc, img6); // original image
&nbsp;&nbsp;&nbsp;&nbsp;doc.Rendering.Save("EffectUnsharpMask3a.jpg");
&nbsp;&nbsp;&nbsp;&nbsp;using (ImageLayer layer = AddImagePage(doc, img6)) {
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;using (EffectOperation effect = new EffectOperation("Unsharp Mask")) {
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;effect.Apply(layer.PixMap);
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}
&nbsp;&nbsp;&nbsp;&nbsp;}
&nbsp;&nbsp;&nbsp;&nbsp;doc.Rendering.Save("EffectSharpen3b.jpg");
&nbsp;&nbsp;&nbsp;&nbsp;using (ImageLayer layer = AddImagePage(doc, img3)) {
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;using (EffectOperation effect = new EffectOperation("Unsharp Mask")) {
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;effect.Parameters["Amount"].Value = 140;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;effect.Apply(layer.PixMap);
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}
&nbsp;&nbsp;&nbsp;&nbsp;}
&nbsp;&nbsp;&nbsp;&nbsp;doc.Rendering.Save("EffectUnsharpMaskSetting1.jpg");
&nbsp;&nbsp;&nbsp;&nbsp;using (ImageLayer layer = AddImagePage(doc, img3)) {
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;using (EffectOperation effect = new EffectOperation("Unsharp Mask")) {
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;effect.Parameters["Amount"].Value = 140;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;effect.Parameters["Radius"].Value = 6;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;effect.Apply(layer.PixMap);
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}
&nbsp;&nbsp;&nbsp;&nbsp;}
&nbsp;&nbsp;&nbsp;&nbsp;doc.Rendering.Save("EffectUnsharpMaskSetting2.jpg");
&nbsp;&nbsp;&nbsp;&nbsp;using (ImageLayer layer = AddImagePage(doc, img3)) {
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;using (EffectOperation effect = new EffectOperation("Unsharp Mask")) {
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;effect.Parameters["Amount"].Value = 140;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;effect.Parameters["Radius"].Value = 6;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;effect.Parameters["Threshold"].Value = 40;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;effect.Apply(layer.PixMap);
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}
&nbsp;&nbsp;&nbsp;&nbsp;}
&nbsp;&nbsp;&nbsp;&nbsp;doc.Rendering.Save("EffectUnsharpMaskSetting3.jpg");
&nbsp;&nbsp;}
}
</code></pre><br>
            </p>
            <p><br>
            </p>
            <table border="0" width="100%" cellpadding="0" cellspacing="0">
              <tr>
                <td class="sectheader">&nbsp;</td>
                <td width="11">&nbsp;</td>
              </tr>

              <tr>
                <td><p><img src="images/astroflag.jpg" width="259" height="243"><br>
                  Original Image</p>
                    <p>&nbsp;</p></td>
                <td width="11">&nbsp;</td>
              </tr>
              <tr>
                <td><p><img src="images/unsharp/default.jpg" width="259" height="243"><br>
                  Unsharp Mask Default Settings</p>
                    <p>&nbsp;</p></td>
                <td width="11">&nbsp;</td>
              </tr>
              <tr>
                <td><p><img src="images/bouy2.jpg" width="180" height="246"><br>
                  Original Image</p>
                    <p>&nbsp;</p></td>
                <td width="11">&nbsp;</td>
              </tr>
              <tr>
                <td><p><img src="images/unsharp/bouy.jpg" width="180" height="246"><br>
                  Unsharp Mask Default Settings</p>
                    <p>&nbsp;</p></td>
                <td width="11">&nbsp;</td>
              </tr>
              <tr>
                <td><p><img src="images/bouy.jpg" width="280" height="260"><br>
                  Original Image</p>
                    <p>&nbsp;</p></td>
                <td width="11">&nbsp;</td>
              </tr>
              <tr>
                <td><p><img src="images/unsharp/noisybouy.jpg" width="280" height="260"><br>
                  Unsharp Mask Default Settings</p>
                    <p>&nbsp;</p></td>
                <td width="11">&nbsp;</td>
              </tr>
              <tr>
                <td><p>&nbsp;</p>
                    <p>The following examples show how the parameters can change the effect 
                      produced. </p>
                  <p>&nbsp;</p></td>
                <td width="11">&nbsp;</td>
              </tr>
              <tr>
                <td><p><img src="images/unsharp/default.jpg" width="259" height="243"><br>
                  Unsharp Mask Default Settings</p>
                    <p>&nbsp;</p></td>
                <td width="11">&nbsp;</td>
              </tr>
              <tr>
                <td><p><img src="images/unsharp/a140.jpg" width="259" height="243"><br>
                  Unsharp Mask Amount =140</p>
                    <p>&nbsp;</p></td>
                <td width="11">&nbsp;</td>
              </tr>
              <tr>
                <td><p><img src="images/unsharp/a140r6.jpg" width="259" height="243"><br>
                  Unsharp Mask Amount =140 Radius = 6</p>
                    <p>&nbsp;</p></td>
                <td width="11">&nbsp;</td>
              </tr>
              <tr>
                <td><p><img src="images/unsharp/a140r6t40.jpg" width="259" height="243"><br>
                  Unsharp Mask Amount =140 Radius = 6 Threshold = 40</p>
                    <p>&nbsp;</p></td>
                <td width="11">&nbsp;</td>
              </tr>
            </table>
          <p></p>          </td>
          <td width="60">&nbsp;</td>
          <td width="11">&nbsp;</td>
        </tr>
      </table>    </td>
  </tr>
</table>
<p>&nbsp;</p>
</body>
</html>

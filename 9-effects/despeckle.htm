<html>
<head>
<title>Despeckle Effect</title>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<link rel="stylesheet" href="../mystyles.css">
<link rel="stylesheet" href="../prism.css">
<script src="../prism.js"></script></head>

<body bgcolor="#FFFFFF">
<table border="0" cellpadding="0" cellspacing="4">
  <tr> 
    <td valign="top"><img src="../images/goo.gif" width="58" height="60"></td>
    <td width="14">&nbsp;</td>
    <td> 
      <table border="0" width="100%" cellpadding="0" cellspacing="0">
        <tr> 
          <td class="pageheader"> Despeckle Effect</td>
          <td width="60">&nbsp;</td>
          <td>&nbsp;</td>
        </tr>
        <tr> 
          <td background="../images/steel-line-3.gif" height="11"></td>
          <td background="../images/steel-line-3.gif" height="11" width="60"></td>
          <td height="11"><img src="../images/steel-blob-11.gif" width="11" height="11"></td>
        </tr>
        <tr> 
          <td> 
            <p>The Despeckle filter removes noise from images without blurring edges. It attempts to detect complex areas and leave these intact while smoothing areas where noise will be noticeable.</p>
          <p>&nbsp;</p>          </td>
          <td width="60">&nbsp;</td>
          <td>&nbsp;</td>
        </tr>
      </table>    </td>
  </tr>
  <tr> 
    <td valign="top" class="sectheader"><img src="../images/steel-pin.gif" width="64" height="10"><br>
    Settings</td>
    <td width="14">&nbsp;</td>
    <td valign="top"> 
      <table border="0" width="100%" cellpadding="0" cellspacing="0">
        <tr> 
          <td><table class="wsgtable" cellpadding="3" cellspacing="0" border="5" bordercolor="#FFFFFF">
              <tr>
                <td><b>Name</b></td>
                <td><b>Default</b></td>
                <td><b>Description</b></td>
              </tr>
              <tr valign="top">
                <td>Threshold</td>
                <td>20</td>
                <td><p>Threshold of complexity above which the image should not be 
                  smoothed.</p>
                </td>
              </tr>
            </table>
            <p>&nbsp;</p>
            </td>
          <td width="60">&nbsp;</td>
          <td width="11">&nbsp;</td>
        </tr>
      </table>    </td>
  </tr>
  <tr> 
    <td valign="top" class="sectheader"><img src="../images/steel-pin.gif" width="64" height="10"><br>
    Workings</td>
    <td width="14">&nbsp;</td>
    <td valign="top"> 
      <table border="0" width="100%" cellpadding="0" cellspacing="0">
        <tr> 
          <td> 
            <p>The Despeckle filter smoothes areas in which noise is noticeable 
              while leaving complex areas untouched. The effect is that grain 
            or other noise is reduced without severely affecting edges.</p>
            <p>The standard deviation of each pixel and its neighbors is calculated 
              to determine if the area is one of high complexity or low complexity. 
              If the complexity is lower than the threshold then the area is smoothed 
              using a simple mean filter.</p>
          <p>&nbsp;</p>          </td>
          <td width="60">&nbsp;</td>
          <td width="11">&nbsp;</td>
        </tr>
      </table>    </td>
  </tr>
  <tr> 
    <td valign="top" class="sectheader"><img src="../images/steel-pin.gif" width="64" height="10"><br>
    Example</td>
    <td width="14">&nbsp;</td>
    <td valign="top"> 
      <table border="0" width="100%" cellpadding="0" cellspacing="0">
        <tr> 
          <td> 
            <p>The following examples show the effect of a Despeckle filter applied 
              to a portion of detail from a picture of the Hubble Space Telescope. 
              The image is characterized by a relatively smooth background but 
              a complex foreground. The image is very grainy but the grain is 
              obscured in areas of high complexity and is only really visible 
            in the background.</p>
            <p><span class=language>[C#]</span><br>
              <pre><code class="language-csharp">void function() {
&nbsp;&nbsp;using (Doc doc = new Doc()) {
&nbsp;&nbsp;&nbsp;&nbsp;AddImagePage(doc, img4); // original image
&nbsp;&nbsp;&nbsp;&nbsp;doc.Rendering.Save("EffectDespeckle.jpg");
&nbsp;&nbsp;&nbsp;&nbsp;using (ImageLayer layer = AddImagePage(doc, img4)) {
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;using (EffectOperation effect = new EffectOperation("Despeckle")) {
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;effect.Parameters["Threshold"].Value = 10;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;effect.Apply(layer.PixMap);
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}
&nbsp;&nbsp;&nbsp;&nbsp;}
&nbsp;&nbsp;&nbsp;&nbsp;doc.Rendering.Save("EffectDespeckle10.jpg");
&nbsp;&nbsp;&nbsp;&nbsp;using (ImageLayer layer = AddImagePage(doc, img4)) {
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;using (EffectOperation effect = new EffectOperation("Despeckle")) {
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;effect.Parameters["Threshold"].Value = 20;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;effect.Apply(layer.PixMap);
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}
&nbsp;&nbsp;&nbsp;&nbsp;}
&nbsp;&nbsp;&nbsp;&nbsp;doc.Rendering.Save("EffectDespeckle20.jpg");
&nbsp;&nbsp;&nbsp;&nbsp;using (ImageLayer layer = AddImagePage(doc, img4)) {
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;using (EffectOperation effect = new EffectOperation("Despeckle")) {
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;effect.Parameters["Threshold"].Value = 30;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;effect.Apply(layer.PixMap);
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}
&nbsp;&nbsp;&nbsp;&nbsp;}
&nbsp;&nbsp;&nbsp;&nbsp;doc.Rendering.Save("EffectDespeckle30.jpg");
&nbsp;&nbsp;}
}
</code></pre><br>
              <span class=language>[Visual Basic]</span><br>
              <pre><code class="language-vbnet">Sub ...
&nbsp;&nbsp;Using doc As New Doc()
&nbsp;&nbsp;&nbsp;&nbsp;AddImagePage(doc, img4)
&nbsp;&nbsp;&nbsp;&nbsp;' original image
&nbsp;&nbsp;&nbsp;&nbsp;doc.Rendering.Save("EffectDespeckle.jpg")
&nbsp;&nbsp;&nbsp;&nbsp;Using layer As ImageLayer = AddImagePage(doc, img4)
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Using effect As New EffectOperation("Despeckle")
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;effect.Parameters("Threshold").Value = 10
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;effect.Apply(layer.PixMap)
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;End Using
&nbsp;&nbsp;&nbsp;&nbsp;End Using
&nbsp;&nbsp;&nbsp;&nbsp;doc.Rendering.Save("EffectDespeckle10.jpg")
&nbsp;&nbsp;&nbsp;&nbsp;Using layer As ImageLayer = AddImagePage(doc, img4)
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Using effect As New EffectOperation("Despeckle")
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;effect.Parameters("Threshold").Value = 20
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;effect.Apply(layer.PixMap)
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;End Using
&nbsp;&nbsp;&nbsp;&nbsp;End Using
&nbsp;&nbsp;&nbsp;&nbsp;doc.Rendering.Save("EffectDespeckle20.jpg")
&nbsp;&nbsp;&nbsp;&nbsp;Using layer As ImageLayer = AddImagePage(doc, img4)
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Using effect As New EffectOperation("Despeckle")
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;effect.Parameters("Threshold").Value = 30
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;effect.Apply(layer.PixMap)
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;End Using
&nbsp;&nbsp;&nbsp;&nbsp;End Using
&nbsp;&nbsp;&nbsp;&nbsp;doc.Rendering.Save("EffectDespeckle30.jpg")
&nbsp;&nbsp;End Using
End Sub
</code></pre><br>
            </p>
            <table border="0" cellpadding="5" cellspacing="0" bordercolor="#999999" width="400">
              <tr>
                <td valign="top"><p><img src="images/teledetail.jpg" width="180" height="180"><br>
                  Original Image</p>
                    <p>The sea is very grainy while the the grain is obscured in 
                      areas of high complexity like the telescope.</p></td>
                <td valign="top"><p><img src="images/despeckle/t10.jpg" width="180" height="180"><br>
                  Despeckle Radius 10</p>
                    <p>The sea has been appreciably degrained while retaining detail 
                      in areas of complexity.</p></td>
              </tr>
              <tr>
                <td valign="top"><p><img src="images/despeckle/t20.jpg" width="180" height="180"><br>
                  Despeckle Radius 20</p>
                    <p>The sea has been further degrained. Although the telescope 
                      remains unblurred, the coastline is becoming a little indistinct.</p></td>
                <td valign="top"><p><img src="images/despeckle/t30.jpg" width="180" height="180"><br>
                  Despeckle Radius 30</p>
                    <p>The telescope remains unblurred but now the coastline has 
                      lost a lot of distinction.</p></td>
              </tr>
            </table>
            <p>&nbsp;</p>
          <p></p>          </td>
          <td width="60">&nbsp;</td>
          <td width="11">&nbsp;</td>
        </tr>
      </table>    </td>
  </tr>
</table>
<p>&nbsp;</p>
</body>
</html>
